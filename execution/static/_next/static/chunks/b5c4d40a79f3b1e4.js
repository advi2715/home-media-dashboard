(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,r)=>{"use strict";var s=e.r(71645),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=a({inst:{value:r,getSnapshot:t}}),n=s[0].inst,d=s[1];return l(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),i(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52683,e=>{"use strict";let t;var r=e.i(43476),s=e.i(71645);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],11671);var n=Object.prototype.hasOwnProperty;let a=new WeakMap,i=()=>{},l=i(),o=Object,c=e=>e===l,d=(e,t)=>({...e,...t}),u={},x={},h="undefined",f=typeof window!=h,m=typeof document!=h,p=f&&"Deno"in window,g=(e,t)=>{let r=a.get(e);return[()=>!c(t)&&e.get(t)||u,s=>{if(!c(t)){let n=e.get(t);t in x||(x[t]=n),r[5](t,d(n,s),n||u)}},r[6],()=>!c(t)&&t in x?x[t]:!c(t)&&e.get(t)||u]},b=!0,[v,j]=f&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],w={initFocus:e=>(m&&document.addEventListener("visibilitychange",e),v("focus",e),()=>{m&&document.removeEventListener("visibilitychange",e),j("focus",e)}),initReconnect:e=>{let t=()=>{b=!0,e()},r=()=>{b=!1};return v("online",t),v("offline",r),()=>{j("online",t),j("offline",r)}}},y=!s.default.useId,N=!f||p,k=N?s.useEffect:s.useLayoutEffect,E="u">typeof navigator&&navigator.connection,_=!N&&E&&(["slow-2g","2g"].includes(E.effectiveType)||E.saveData),S=new WeakMap,R=(e,t)=>e===`[object ${t}]`,T=0,O=e=>{let t,r,s=typeof e,n=o.prototype.toString.call(e),a=R(n,"Date"),i=R(n,"RegExp"),l=R(n,"Object");if(o(e)!==e||a||i)t=a?e.toJSON():"symbol"==s?e.toString():"string"==s?JSON.stringify(e):""+e;else{if(t=S.get(e))return t;if(t=++T+"~",S.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=O(e[r])+",";S.set(e,t)}if(l){t="#";let s=o.keys(e).sort();for(;!c(r=s.pop());)c(e[r])||(t+=r+":"+O(e[r])+",");S.set(e,t)}}return t},C=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?O(e):"",t]},V=0,M=()=>++V;async function L(...e){let[t,r,s,n]=e,i=d({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),o=i.populateCache,u=i.rollbackOnError,x=i.optimisticData,h=i.throwOnError;if("function"==typeof r){let e=[];for(let s of t.keys())!/^\$(inf|sub)\$/.test(s)&&r(t.get(s)._k)&&e.push(s);return Promise.all(e.map(f))}return f(r);async function f(r){let n,[d]=C(r);if(!d)return;let[f,m]=g(t,d),[p,b,v,j]=a.get(t),w=()=>{let e=p[d];return("function"==typeof i.revalidate?i.revalidate(f().data,r):!1!==i.revalidate)&&(delete v[d],delete j[d],e&&e[0])?e[0](2).then(()=>f().data):f().data};if(e.length<3)return w();let y=s,N=!1,k=M();b[d]=[k,0];let E=!c(x),_=f(),S=_.data,R=_._c,T=c(R)?S:R;if(E&&m({data:x="function"==typeof x?x(T,S):x,_c:T}),"function"==typeof y)try{y=y(T)}catch(e){n=e,N=!0}if(y&&"function"==typeof y.then){let e;if(y=await y.catch(e=>{n=e,N=!0}),k!==b[d][0]){if(N)throw n;return y}N&&E&&(e=n,"function"==typeof u?u(e):!1!==u)&&(o=!0,m({data:T,_c:l}))}if(o&&!N&&("function"==typeof o?m({data:o(y,T),error:l,_c:l}):m({data:y,error:l,_c:l})),b[d][1]=M(),Promise.resolve(w()).then(()=>{m({_c:l})}),N){if(h)throw n;return}return y}}let A=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},D=(e,t)=>{if(!a.has(e)){let r=d(w,t),s=Object.create(null),n=L.bind(l,e),o=i,c=Object.create(null),u=(e,t)=>{let r=c[e]||[];return c[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},x=(t,r,s)=>{e.set(t,r);let n=c[t];if(n)for(let e of n)e(r,s)},h=()=>{if(!a.has(e)&&(a.set(e,[s,Object.create(null),Object.create(null),Object.create(null),n,x,u]),!N)){let t=r.initFocus(setTimeout.bind(l,A.bind(l,s,0))),n=r.initReconnect(setTimeout.bind(l,A.bind(l,s,1)));o=()=>{t&&t(),n&&n(),a.delete(e)}}};return h(),[e,n,h,o]}return[e,a.get(e)[4]]},[q,F]=D(new Map),P=d({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,r,s,n)=>{let a=r.errorRetryCount,i=n.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*r.errorRetryInterval;(c(a)||!(i>a))&&setTimeout(s,l,n)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:_?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:_?5e3:3e3,compare:function e(t,r){var s,a;if(t===r)return!0;if(t&&r&&(s=t.constructor)===r.constructor){if(s===Date)return t.getTime()===r.getTime();if(s===RegExp)return t.toString()===r.toString();if(s===Array){if((a=t.length)===r.length)for(;a--&&e(t[a],r[a]););return -1===a}if(!s||"object"==typeof t){for(s in a=0,t)if(n.call(t,s)&&++a&&!n.call(r,s)||!(s in r)||!e(t[s],r[s]))return!1;return Object.keys(r).length===a}}return t!=t&&r!=r},isPaused:()=>!1,cache:q,mutate:F,fallback:{}},{isOnline:()=>b,isVisible:()=>{let e=m&&document.visibilityState;return c(e)||"hidden"!==e}}),$=(e,t)=>{let r=d(e,t);if(t){let{use:s,fallback:n}=e,{use:a,fallback:i}=t;s&&a&&(r.use=s.concat(a)),n&&i&&(r.fallback=d(n,i))}return r},I=(0,s.createContext)({});var B=e.i(11671);let U=f&&window.__SWR_DEVTOOLS_USE__,W=U?window.__SWR_DEVTOOLS_USE__:[],z=()=>{let e=(0,s.useContext)(I);return(0,s.useMemo)(()=>d(P,e),[e])},K=W.concat(e=>(t,r,s)=>{let n=r&&((...e)=>{let[s]=C(t),[,,,n]=a.get(q);if(s.startsWith("$inf$"))return r(...e);let i=n[s];return c(i)?r(...e):(delete n[s],i)});return e(t,n,s)});U&&(window.__SWR_DEVTOOLS_REACT__=s.default);var J=e.i(2239);let Q=()=>{},Z=Q(),G=(new WeakMap,s.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),H={dedupe:!0},Y=Promise.resolve(l),X=()=>i;o.defineProperty(e=>{let{value:t}=e,r=(0,s.useContext)(I),n="function"==typeof t,a=(0,s.useMemo)(()=>n?t(r):t,[n,r,t]),i=(0,s.useMemo)(()=>n?a:$(r,a),[n,r,a]),o=a&&a.provider,c=(0,s.useRef)(l);o&&!c.current&&(c.current=D(o(i.cache||q),a));let u=c.current;return u&&(i.cache=u[0],i.mutate=u[1]),k(()=>{if(u)return u[2]&&u[2](),u[3]},[]),(0,s.createElement)(I.Provider,d(e,{value:i}))},"defaultValue",{value:P});let ee=(t=(e,t,r)=>{let{cache:n,compare:i,suspense:o,fallbackData:u,revalidateOnMount:x,revalidateIfStale:m,refreshInterval:p,refreshWhenHidden:b,refreshWhenOffline:v,keepPreviousData:j,strictServerPrefetchWarning:w}=r,[E,_,S,R]=a.get(n),[T,O]=C(e),V=(0,s.useRef)(!1),A=(0,s.useRef)(!1),D=(0,s.useRef)(T),q=(0,s.useRef)(t),F=(0,s.useRef)(r),P=()=>F.current.isVisible()&&F.current.isOnline(),[$,I,U,W]=g(n,T),z=(0,s.useRef)({}).current,K=c(u)?c(r.fallback)?l:r.fallback[T]:u,Q=(e,t)=>{for(let r in z)if("data"===r){if(!i(e[r],t[r])&&(!c(e[r])||!i(el,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},Z=!V.current,ee=(0,s.useMemo)(()=>{let e=$(),r=W(),s=e=>{let r=d(e);return(delete r._k,(()=>{if(!T||!t||F.current.isPaused())return!1;if(Z&&!c(x))return x;let e=c(K)?r.data:K;return c(e)||m})())?{isValidating:!0,isLoading:!0,...r}:r},n=s(e),a=e===r?n:s(r),i=n;return[()=>{let e=s($());return Q(e,i)?(i.data=e.data,i.isLoading=e.isLoading,i.isValidating=e.isValidating,i.error=e.error,i):(i=e,e)},()=>a]},[n,T]),et=(0,J.useSyncExternalStore)((0,s.useCallback)(e=>U(T,(t,r)=>{Q(r,t)||e()}),[n,T]),ee[0],ee[1]),er=E[T]&&E[T].length>0,es=et.data,en=c(es)?K&&"function"==typeof K.then?G(K):K:es,ea=et.error,ei=(0,s.useRef)(en),el=j?c(es)?c(ei.current)?en:ei.current:es:en,eo=T&&c(en),ec=(0,s.useRef)(null);N||(0,J.useSyncExternalStore)(X,()=>(ec.current=!1,ec),()=>(ec.current=!0,ec));let ed=ec.current;w&&ed&&!o&&eo&&console.warn(`Missing pre-initiated data for serialized key "${T}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let eu=!(!T||!t||F.current.isPaused())&&(!er||!!c(ea))&&(Z&&!c(x)?x:o?!c(en)&&m:c(en)||m),ex=c(et.isValidating)?eu:et.isValidating,eh=c(et.isLoading)?eu:et.isLoading,ef=(0,s.useCallback)(async e=>{let t,s,n=q.current;if(!T||!n||A.current||F.current.isPaused())return!1;let a=!0,o=e||{},d=!S[T]||!o.dedupe,u=()=>y?!A.current&&T===D.current&&V.current:T===D.current,x={isValidating:!1,isLoading:!1},h=()=>{I(x)},f=()=>{let e=S[T];e&&e[1]===s&&delete S[T]},m={isValidating:!0};c($().data)&&(m.isLoading=!0);try{if(d&&(I(m),r.loadingTimeout&&c($().data)&&setTimeout(()=>{a&&u()&&F.current.onLoadingSlow(T,r)},r.loadingTimeout),S[T]=[n(O),M()]),[t,s]=S[T],t=await t,d&&setTimeout(f,r.dedupingInterval),!S[T]||S[T][1]!==s)return d&&u()&&F.current.onDiscarded(T),!1;x.error=l;let e=_[T];if(!c(e)&&(s<=e[0]||s<=e[1]||0===e[1]))return h(),d&&u()&&F.current.onDiscarded(T),!1;let o=$().data;x.data=i(o,t)?o:t,d&&u()&&F.current.onSuccess(t,T,r)}catch(r){f();let e=F.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(x.error=r,d&&u())&&(e.onError(r,T,e),(!0===t||"function"==typeof t&&t(r))&&(!F.current.revalidateOnFocus||!F.current.revalidateOnReconnect||P())&&e.onErrorRetry(r,T,e,e=>{let t=E[T];t&&t[0]&&t[0](B.ERROR_REVALIDATE_EVENT,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0}))}return a=!1,h(),!0},[T,n]),em=(0,s.useCallback)((...e)=>L(n,D.current,...e),[]);if(k(()=>{q.current=t,F.current=r,c(es)||(ei.current=es)}),k(()=>{var e;let t;if(!T)return;let r=ef.bind(l,H),s=0;F.current.revalidateOnFocus&&(s=Date.now()+F.current.focusThrottleInterval);let n=(e=(e,t={})=>{if(e==B.FOCUS_EVENT){let e=Date.now();F.current.revalidateOnFocus&&e>s&&P()&&(s=e+F.current.focusThrottleInterval,r())}else if(e==B.RECONNECT_EVENT)F.current.revalidateOnReconnect&&P()&&r();else if(e==B.MUTATE_EVENT)return ef();else if(e==B.ERROR_REVALIDATE_EVENT)return ef(t)},(t=E[T]||(E[T]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});if(A.current=!1,D.current=T,V.current=!0,I({_k:O}),eu&&!S[T])if(c(en)||N)r();else f&&typeof window.requestAnimationFrame!=h?window.requestAnimationFrame(r):setTimeout(r,1);return()=>{A.current=!0,n()}},[T]),k(()=>{let e;function t(){let t="function"==typeof p?p($().data):p;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!$().error&&(b||F.current.isVisible())&&(v||F.current.isOnline())?ef(H).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[p,b,v,T]),(0,s.useDebugValue)(el),o){if(!y&&N&&eo)throw Error("Fallback data is required when using Suspense in SSR.");eo&&(q.current=t,F.current=r,A.current=!1);let e=R[T];if(G(!c(e)&&eo?em(e):Y),!c(ea)&&eo)throw ea;let s=eo?ef(H):Y;!c(el)&&eo&&(s.status="fulfilled",s.value=!0),G(s)}return{mutate:em,get data(){return z.data=!0,el},get error(){return z.error=!0,ea},get isValidating(){return z.isValidating=!0,ex},get isLoading(){return z.isLoading=!0,eh}}},function(...e){let r=z(),[s,n,a]="function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],i=$(r,a),l=t,{use:o}=i,c=(o||[]).concat(K);for(let e=c.length;e--;)l=c[e](l);return l(s,n||i.fetcher||null,i)}),et=e=>fetch(e).then(e=>e.json());function er({children:e,className:t="",title:s,href:n,action:a,noPadding:i=!1}){return(0,r.jsxs)("div",{className:`bg-card border border-card-border rounded-2xl overflow-hidden flex flex-col shadow-sm ${t}`,children:[(s||a)&&(0,r.jsxs)("div",{className:"px-5 py-4 flex justify-between items-center border-b border-white/5 bg-white/2",children:[s&&(n?(0,r.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold uppercase tracking-wider text-slate-400 hover:text-white transition-colors",children:s}):(0,r.jsx)("h2",{className:"text-sm font-bold uppercase tracking-wider text-slate-400",children:s})),a&&(0,r.jsx)("div",{children:a})]}),(0,r.jsx)("div",{className:`flex-1 min-h-0 overflow-auto ${i?"":"p-5"}`,children:e})]})}function es({title:e,items:t,type:s,variant:n="grid"}){return t&&0!==t.length?"hero"===n?(0,r.jsx)("div",{className:"relative w-full h-64 md:h-80 lg:h-96 rounded-xl overflow-hidden group mb-4",children:t.map((e,t)=>(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:`url(${e.thumb})`},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-900/60 to-transparent"})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 p-6 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[e.user_thumb&&(0,r.jsx)("img",{src:e.user_thumb,alt:e.user,className:"w-8 h-8 rounded-full border border-white/20"}),(0,r.jsxs)("span",{className:"text-blue-400 font-bold tracking-wide uppercase text-xs",children:["Now Playing â€¢ ",e.user]})]}),(0,r.jsx)("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-1 drop-shadow-md",children:e.title}),(0,r.jsx)("p",{className:"text-slate-300 text-sm md:text-base line-clamp-1",children:e.year||e.type})]})]},t))}):(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 px-1",children:e}),(0,r.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:t.slice(0,10).map((e,t)=>(0,r.jsxs)("div",{className:"group relative aspect-[2/3] bg-slate-800 rounded-lg overflow-hidden shadow-sm hover:shadow-md hover:ring-2 ring-blue-500/50 transition-all",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-110",style:{backgroundImage:`url(${e.thumb})`}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 p-2 w-full opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-white truncate",children:e.title}),e.episode&&(0,r.jsx)("p",{className:"text-[10px] text-slate-300 truncate",children:e.episode}),e.year&&(0,r.jsx)("p",{className:"text-[10px] text-slate-300",children:e.year})]})]},t))})]}):null}function en({downloads:e,emptyMessage:t="No active downloads"}){return e&&0!==e.length?(0,r.jsx)("div",{className:"space-y-1",children:e.map((e,t)=>(0,r.jsxs)("div",{className:"group relative bg-slate-800/30 hover:bg-slate-700/40 rounded-lg p-2 transition-colors",children:[(0,r.jsx)("div",{className:"absolute bottom-0 left-0 h-0.5 bg-blue-500/50 transition-all duration-500",style:{width:e.progress}}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm relative z-10",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[(0,r.jsx)("div",{className:"font-medium text-slate-200 truncate",title:e.name,children:e.name}),(0,r.jsx)("div",{className:"flex items-center gap-2 mt-0.5",children:(0,r.jsx)("span",{className:"text-[10px] uppercase font-bold text-slate-500 bg-slate-800 px-1.5 py-0.5 rounded",children:e.state})})]}),(0,r.jsxs)("div",{className:"text-right whitespace-nowrap",children:[(0,r.jsx)("div",{className:"font-mono text-blue-400 text-xs font-bold",children:e.dlspeed>0?(e.dlspeed/1024/1024).toFixed(1)+" MB/s":""}),(0,r.jsx)("div",{className:"text-[10px] text-slate-500 mt-0.5",children:e.progress})]})]})]},t))}):(0,r.jsx)("div",{className:"text-slate-500 text-sm italic py-2 text-center",children:t})}let ea=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),ei=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var el={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let eo=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>(0,s.createElement)("svg",{ref:c,...el,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:ea("lucide",a),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...l.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(i)?i:[i]])),ec=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...n},a)=>(0,s.createElement)(eo,{ref:a,iconNode:t,className:ea(`lucide-${ei(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=ei(e),r},ed=ec("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eu=ec("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ex=ec("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function eh({isOpen:e,onClose:t,errors:n,onDelete:a}){let[i,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1);if(!e)return null;let x=async()=>{i&&(u(!0),await a(i,o),u(!1),l(null),c(!1))},h=n.find(e=>e.hash===i);return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,r.jsxs)("div",{className:"bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg border border-slate-700 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-800/50",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ex,{className:"text-red-400 w-5 h-5"}),"Confirm Deletion"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ex,{className:"text-yellow-400 w-5 h-5"}),"Torrent Errors (",n.length,")"]})}),(0,r.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:(0,r.jsx)(ed,{className:"w-6 h-6"})})]}),(0,r.jsx)("div",{className:"p-0 max-h-[60vh] overflow-y-auto",children:i&&h?(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("p",{className:"text-slate-300",children:["Are you sure you want to delete ",(0,r.jsx)("strong",{className:"text-white",children:h.name}),"?"]}),(0,r.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 text-red-200 text-sm",children:"This action cannot be undone."}),(0,r.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg cursor-pointer hover:bg-slate-700/50 transition-colors",children:[(0,r.jsx)("input",{type:"checkbox",checked:o,onChange:e=>c(e.target.checked),className:"w-5 h-5 rounded border-slate-600 bg-slate-700 text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,r.jsx)("span",{className:"text-slate-200 select-none",children:"Also delete files on disk"})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsx)("button",{onClick:()=>l(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors font-medium",disabled:d,children:"Cancel"}),(0,r.jsx)("button",{onClick:x,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors font-medium flex justify-center items-center gap-2",disabled:d,children:d?"Deleting...":"Delete Forever"})]})]}):(0,r.jsx)("div",{className:"divide-y divide-slate-700/50",children:0===n.length?(0,r.jsx)("div",{className:"p-8 text-center text-slate-500",children:"No errors found."}):n.map(e=>(0,r.jsx)("div",{className:"p-4 hover:bg-slate-700/20 transition-colors group",children:(0,r.jsxs)("div",{className:"flex justify-between items-start gap-3",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("div",{className:"font-medium text-slate-200 truncate pr-2",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-red-400 mt-1",children:e.message}),(0,r.jsx)("div",{className:"text-xs text-slate-500 mt-1 uppercase tracking-wider",children:e.state})]}),(0,r.jsx)("button",{onClick:()=>l(e.hash),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all opacity-0 group-hover:opacity-100 focus:opacity-100",title:"Delete Torrent",children:(0,r.jsx)(eu,{className:"w-5 h-5"})})]})},e.hash))})}),!i&&(0,r.jsx)("div",{className:"p-4 bg-slate-800/50 border-t border-slate-700 text-right",children:(0,r.jsx)("button",{onClick:t,className:"text-sm text-slate-400 hover:text-white px-3 py-1",children:"Close"})})]})})}let ef=ec("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),em=ec("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);function ep(){let{data:e,isLoading:t,isError:n}=function(){let{data:e,error:t,isLoading:r}=ee("/api/data",et,{refreshInterval:2e3});return{data:e,isLoading:r,isError:t}}(),{mutate:a}=z(),[i,l]=(0,s.useState)(!1),o=async(e,t)=>{try{let r=await fetch("/api/delete_torrent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hash:e,delete_files:t})}),s=await r.json();s.success?a("/api/data"):alert("Failed to delete: "+(s.error||"Unknown error"))}catch(e){alert("Network error")}};if(n)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Failed to load data."});if(t||!e)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center text-slate-500",children:"Loading..."});let c=e.qbittorrent.transfer_info?.dl_info_speed||0,d=e.qbittorrent.transfer_info?.up_info_speed||0,u=e.qbittorrent.transfer_info?.dl_info_data||0,x=e.qbittorrent.transfer_info?.up_info_data||0,h=e=>e>1048576?`${(e/1024/1024).toFixed(1)} MB/s`:`${(e/1024).toFixed(1)} KB/s`,f=e=>{if(!e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,t)).toFixed(1)} ${["B","KB","MB","GB","TB"][t]}`};return(0,r.jsxs)("div",{className:"bento-grid bg-slate-950 text-slate-200",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-baseline justify-between px-2",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-white tracking-tight",children:["Media",(0,r.jsx)("span",{className:"text-blue-500",children:"Dash"})]}),(0,r.jsx)("span",{className:"text-xs font-mono text-slate-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsx)(er,{className:"shrink-0 bg-indigo-950/20 border-indigo-900/30",noPadding:!0,children:(0,r.jsxs)("a",{href:e.urls.overseerr,target:"_blank",rel:"noopener noreferrer",className:"p-4 flex items-center gap-4 hover:bg-white/5 transition-colors block",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-indigo-400",children:e.overseerr.count||0}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-xs font-bold uppercase tracking-wider text-indigo-300/70",children:"Requests"}),(0,r.jsx)("div",{className:"text-xs text-indigo-200/50 truncate",children:(e.overseerr.requests||[]).slice(0,1).map(e=>e.title).join(", ")||"No pending requests"})]})]})}),(0,r.jsx)(er,{title:"Sonarr",href:e.urls.sonarr,className:"flex-1",children:(0,r.jsxs)("div",{className:"space-y-2",children:[0===(e.sonarr.activity||[]).length&&(0,r.jsx)("span",{className:"text-slate-600 text-xs italic",children:"Queue empty"}),(e.sonarr.activity||[]).map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs bg-slate-900/50 p-2 rounded border border-white/5",children:[(0,r.jsx)("span",{className:"truncate flex-1 pr-2",children:e.title}),(0,r.jsx)("span",{className:"text-blue-400 font-mono",children:e.status})]},t))]})}),(0,r.jsx)(er,{title:"Radarr",href:e.urls.radarr,className:"flex-1",children:(0,r.jsxs)("div",{className:"space-y-2",children:[0===(e.radarr.activity||[]).length&&(0,r.jsx)("span",{className:"text-slate-600 text-xs italic",children:"Queue empty"}),(e.radarr.activity||[]).map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs bg-slate-900/50 p-2 rounded border border-white/5",children:[(0,r.jsx)("span",{className:"truncate flex-1 pr-2",children:e.title}),(0,r.jsx)("span",{className:"text-amber-400 font-mono",children:e.status})]},t))]})})]}),(0,r.jsxs)(er,{title:"Plex",href:e.urls.plex,className:"col-span-1 md:col-span-1 xl:row-span-2 overflow-hidden border-blue-900/20",noPadding:!0,children:[(e.plex.active_sessions||[]).length>0?(0,r.jsx)(es,{title:"",items:e.plex.active_sessions,type:"session",variant:"hero"}):(0,r.jsxs)("div",{className:"p-6 bg-gradient-to-b from-blue-950/20 to-transparent",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:"Library"}),(0,r.jsx)("p",{className:"text-sm text-slate-400",children:"Nothing playing right now."})]}),(0,r.jsxs)("div",{className:"p-5 space-y-6",children:[(0,r.jsx)(es,{title:"Recent Movies",items:e.plex.movies||[],type:"movie",variant:"grid"}),(0,r.jsx)(es,{title:"Recent TV",items:e.plex.shows||[],type:"show",variant:"grid"})]})]}),(0,r.jsxs)(er,{title:"Qbittorrent",href:e.urls.qbittorrent,className:"flex flex-col border-emerald-900/20",noPadding:!0,children:[(0,r.jsxs)("div",{className:"p-5 bg-slate-900/50 border-b border-white/5 grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-xs font-bold uppercase text-emerald-500/70 mb-1 flex items-center gap-1",children:[(0,r.jsx)(ef,{className:"w-3 h-3"})," Down"]}),(0,r.jsx)("div",{className:"text-2xl font-mono text-white",children:h(c)}),(0,r.jsxs)("div",{className:"text-xs text-slate-500 font-mono mt-1",children:["Session: ",f(u)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-xs font-bold uppercase text-blue-500/70 mb-1 flex items-center gap-1",children:[(0,r.jsx)(em,{className:"w-3 h-3"})," Up"]}),(0,r.jsx)("div",{className:"text-2xl font-mono text-white",children:h(d)}),(0,r.jsxs)("div",{className:"text-xs text-slate-500 font-mono mt-1",children:["Session: ",f(x)]})]})]}),(0,r.jsxs)("div",{className:"p-5 flex-1 overflow-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"Active Downloads"}),(0,r.jsxs)("button",{onClick:()=>l(!0),className:`text-xs px-2 py-1 rounded font-bold transition-colors ${(e.qbittorrent.error_count||0)>0?"bg-red-500/20 text-red-400 hover:bg-red-500/30 animate-pulse":"bg-slate-800/50 text-slate-500 cursor-default"}`,disabled:0===(e.qbittorrent.error_count||0),children:[e.qbittorrent.error_count||0," Errors"]})]}),(0,r.jsx)(en,{downloads:e.qbittorrent.active_downloads||[]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h3",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-3",children:"Recent Activity"}),(0,r.jsx)(en,{downloads:(e.qbittorrent.recent||[]).slice(0,5),emptyMessage:"No recent activity"})]})]})]}),(0,r.jsx)(eh,{isOpen:i,onClose:()=>l(!1),errors:e.qbittorrent.errored_torrents||[],onDelete:o})]})}e.s(["default",()=>ep],52683)}]);